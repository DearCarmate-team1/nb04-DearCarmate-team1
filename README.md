# Dear Carmate - ì¤‘ê³ ì°¨ ê³„ì•½ ê´€ë¦¬ ì„œë¹„ìŠ¤

[![Deploy](https://img.shields.io/badge/Deploy-Render-46E3B7?logo=render)](https://nb04-dearcarmate-team1.onrender.com)
[![Frontend](https://img.shields.io/badge/Frontend-Vercel-000000?logo=vercel)](https://dearcarmate-frontend.vercel.app/)
[![API Docs](https://img.shields.io/badge/API-Swagger-85EA2D?logo=swagger)](https://nb04-dearcarmate-team1.onrender.com/api-docs)

ì¤‘ê³ ì°¨ ë”œëŸ¬ì™€ ê³ ê° ê°„ì˜ ê³„ì•½ ê³¼ì •ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³ , ê´€ë ¨ ë°ì´í„°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê¸°ë¡í•˜ê¸° ìœ„í•œ ë°±ì—”ë“œ API ì„œë²„ì…ë‹ˆë‹¤.

## ğŸ”— ë§í¬

- **ë°°í¬ëœ ë°±ì—”ë“œ**: https://nb04-dearcarmate-team1.onrender.com
- **ë°°í¬ëœ í”„ë¡ íŠ¸ì—”ë“œ**: https://dearcarmate-frontend.vercel.app/
- **API ë¬¸ì„œ (Swagger)**: https://nb04-dearcarmate-team1.onrender.com/api-docs

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ì¸ì¦ ì‹œìŠ¤í…œ**: JWT(Access/Refresh Token) ê¸°ë°˜ì˜ ì¸ì¦ ë° ì¸ê°€
- **ì‚¬ìš©ì ê´€ë¦¬**: íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë‚´ ì •ë³´ ì¡°íšŒ/ìˆ˜ì •/íƒˆí‡´
- **ì–´ë“œë¯¼ ê¸°ëŠ¥**: íšŒì‚¬ ë“±ë¡ ë° ê´€ë¦¬, ì†Œì† ìœ ì € ê´€ë¦¬
- **ê³ ê° ê´€ë¦¬**: ì ì¬/ê³„ì•½ ê³ ê° ì •ë³´ CRUD ë° CSV íŒŒì¼ì„ ì´ìš©í•œ ëŒ€ìš©ëŸ‰ ë“±ë¡
- **ì°¨ëŸ‰ ê´€ë¦¬**: íŒë§¤ ì°¨ëŸ‰ ì •ë³´ CRUD ë° CSV ëŒ€ìš©ëŸ‰ ë“±ë¡
- **ê³„ì•½ ê´€ë¦¬**: ì°¨ëŸ‰-ê³ ê° ê°„ ê³„ì•½ ì •ë³´ CRUD ë° ì¹¸ë°˜ ë³´ë“œ í˜•íƒœì˜ ëª©ë¡ ì œê³µ
- **ê³„ì•½ì„œ ê´€ë¦¬**: ê³„ì•½ë³„ ë¬¸ì„œ(`pdf`, `doc`, `docx`) ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ, ê´€ë¦¬
- **ëŒ€ì‹œë³´ë“œ**: ì›”ë³„ ë§¤ì¶œ, ê³„ì•½ í˜„í™© ë“± í•µì‹¬ ì§€í‘œ í†µê³„ ì œê³µ
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: Cloudinaryë¥¼ ì´ìš©í•œ ë²”ìš© ì´ë¯¸ì§€ ì—…ë¡œë“œ (ì˜ˆ: í”„ë¡œí•„ ì‚¬ì§„)
- **ì´ë©”ì¼ ì•Œë¦¼**: SendGridë¥¼ ì´ìš©í•œ ê³„ì•½ ê´€ë ¨ ì´ë©”ì¼ ì•Œë¦¼ ë°œì†¡
- **ìœ íš¨ì„± ê²€ì‚¬**: `zod`ë¥¼ ì´ìš©í•œ ìš”ì²­ ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬
- **ì—ëŸ¬ í•¸ë“¤ë§**: ê¸€ë¡œë²Œ ì—ëŸ¬ í•¸ë“¤ëŸ¬ë¥¼ í†µí•œ ì¼ê´€ëœ ì—ëŸ¬ ì‘ë‹µ ì²˜ë¦¬

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### í•µì‹¬ ê¸°ìˆ 
- **ëŸ°íƒ€ì„**: Node.js v18.x ì´ìƒ
- **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €**: npm v9.x ì´ìƒ
- **ì–¸ì–´**: TypeScript v5.9+
- **í”„ë ˆì„ì›Œí¬**: Express.js v5.1+
- **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL v14+ (ê¶Œì¥)
- **ORM**: Prisma v6.16+

### ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ì¸ì¦**: JWT (jsonwebtoken)
- **ìœ íš¨ì„± ê²€ì‚¬**: Zod
- **íŒŒì¼ ì²˜ë¦¬**: Multer, Cloudinary
- **CSV ì²˜ë¦¬**: csv-parse
- **ì´ë©”ì¼**: SendGrid
- **ë³´ì•ˆ**: Helmet, bcrypt
- **API ë¬¸ì„œ**: Swagger (swagger-jsdoc, swagger-ui-express)

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
root/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.ts                    # Express ì• í”Œë¦¬ì¼€ì´ì…˜ ì§„ì…ì 
â”‚   â”œâ”€â”€ configs/                  # ì„¤ì • íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ prisma-client.ts      # Prisma í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤
â”‚   â”‚   â”œâ”€â”€ swagger.ts            # Swagger API ë¬¸ì„œ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ multer.ts             # íŒŒì¼ ì—…ë¡œë“œ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ cloudinary-config.ts  # Cloudinary ì´ë¯¸ì§€ ì—…ë¡œë“œ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ token.ts              # JWT í† í° ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ custom-error.ts       # ì»¤ìŠ¤í…€ ì—ëŸ¬ í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ constants.ts          # ìƒìˆ˜ ì •ì˜
â”‚   â”‚   â””â”€â”€ async-handler.ts      # ë¹„ë™ê¸° í•¸ë“¤ëŸ¬ ë˜í¼
â”‚   â”œâ”€â”€ routes/                   # API ë¼ìš°íŠ¸ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ auth-route.ts
â”‚   â”‚   â”œâ”€â”€ user-route.ts
â”‚   â”‚   â”œâ”€â”€ company-route.ts
â”‚   â”‚   â”œâ”€â”€ customer-route.ts
â”‚   â”‚   â”œâ”€â”€ car-route.ts
â”‚   â”‚   â”œâ”€â”€ contract-route.ts
â”‚   â”‚   â”œâ”€â”€ contract-document-route.ts
â”‚   â”‚   â”œâ”€â”€ dashboard-route.ts
â”‚   â”‚   â””â”€â”€ image-route.ts
â”‚   â”œâ”€â”€ middlewares/              # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”œâ”€â”€ authenticate.ts       # JWT ì¸ì¦
â”‚   â”‚   â”œâ”€â”€ authorize.ts          # ê¶Œí•œ ê²€ì¦ (Admin)
â”‚   â”‚   â”œâ”€â”€ validate.ts           # Zod ìŠ¤í‚¤ë§ˆ ìœ íš¨ì„± ê²€ì‚¬
â”‚   â”‚   â”œâ”€â”€ error-handler.ts      # ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
â”‚   â”‚   â””â”€â”€ not-found-handler.ts  # 404 í•¸ë“¤ëŸ¬
â”‚   â”œâ”€â”€ controllers/              # ì»¨íŠ¸ë¡¤ëŸ¬ (HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬)
â”‚   â”‚   â”œâ”€â”€ auth-controller.ts
â”‚   â”‚   â”œâ”€â”€ user-controller.ts
â”‚   â”‚   â”œâ”€â”€ company-controller.ts
â”‚   â”‚   â”œâ”€â”€ customer-controller.ts
â”‚   â”‚   â”œâ”€â”€ car-controller.ts
â”‚   â”‚   â”œâ”€â”€ contract-controller.ts
â”‚   â”‚   â”œâ”€â”€ contract-document-controller.ts
â”‚   â”‚   â”œâ”€â”€ dashboard-controller.ts
â”‚   â”‚   â””â”€â”€ image-controller.ts
â”‚   â”œâ”€â”€ services/                 # ì„œë¹„ìŠ¤ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
â”‚   â”‚   â”œâ”€â”€ auth-service.ts
â”‚   â”‚   â”œâ”€â”€ user-service.ts
â”‚   â”‚   â”œâ”€â”€ company-service.ts
â”‚   â”‚   â”œâ”€â”€ customer-service.ts
â”‚   â”‚   â”œâ”€â”€ car-service.ts
â”‚   â”‚   â”œâ”€â”€ contract-service.ts
â”‚   â”‚   â”œâ”€â”€ contract-document-service.ts
â”‚   â”‚   â”œâ”€â”€ dashboard-service.ts
â”‚   â”‚   â”œâ”€â”€ email-service.ts
â”‚   â”‚   â””â”€â”€ image-service.ts
â”‚   â”œâ”€â”€ repositories/             # ë¦¬í¬ì§€í† ë¦¬ (ë°ì´í„° ì•¡ì„¸ìŠ¤)
â”‚   â”‚   â”œâ”€â”€ user-repository.ts
â”‚   â”‚   â”œâ”€â”€ company-repository.ts
â”‚   â”‚   â”œâ”€â”€ customer-repository.ts
â”‚   â”‚   â”œâ”€â”€ car-repository.ts
â”‚   â”‚   â”œâ”€â”€ car-model-repository.ts
â”‚   â”‚   â”œâ”€â”€ contract-repository.ts
â”‚   â”‚   â”œâ”€â”€ contract-document-repository.ts
â”‚   â”‚   â””â”€â”€ dashboard-repository.ts
â”‚   â”œâ”€â”€ dtos/                     # ë°ì´í„° ì „ì†¡ ê°ì²´ (Zod ìŠ¤í‚¤ë§ˆ)
â”‚   â”‚   â”œâ”€â”€ auth-dto.ts
â”‚   â”‚   â”œâ”€â”€ user-dto.ts
â”‚   â”‚   â”œâ”€â”€ company-dto.ts
â”‚   â”‚   â”œâ”€â”€ customer-dto.ts
â”‚   â”‚   â”œâ”€â”€ car-dto.ts
â”‚   â”‚   â”œâ”€â”€ contract-dto.ts
â”‚   â”‚   â””â”€â”€ dashboard-dto.ts
â”‚   â””â”€â”€ types/                    # ê³µí†µ íƒ€ì… ì •ì˜
â”‚       â”œâ”€â”€ auth-user.ts
â”‚       â”œâ”€â”€ customer.ts
â”‚       â”œâ”€â”€ car.ts
â”‚       â”œâ”€â”€ contract.ts
â”‚       â”œâ”€â”€ express.d.ts
â”‚       â””â”€â”€ prisma.d.ts
â”œâ”€â”€ prisma/
â”‚   â”œâ”€â”€ schema.prisma             # Prisma ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚   â”œâ”€â”€ seed.ts                   # ìƒ˜í”Œ ë°ì´í„° ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ migrations/               # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ uploads/                      # ì—…ë¡œë“œëœ íŒŒì¼ ì €ì¥ì†Œ (ë¡œì»¬)
â”‚   â”œâ”€â”€ documents/                # ê³„ì•½ì„œ ë¬¸ì„œ (PDF, DOC, DOCX)
â”‚   â””â”€â”€ images/                   # ì´ë¯¸ì§€ íŒŒì¼
â”œâ”€â”€ tests/                        # í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ docs/                         # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ .env                          # í™˜ê²½ ë³€ìˆ˜ (gitignore)
â”œâ”€â”€ .env.sample                   # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ê³„ì¸µí˜• ì•„í‚¤í…ì²˜(Layered Architecture)**ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

### í•µì‹¬ ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Client (Frontend/Mobile)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTP Request
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Routes                       â”‚
â”‚  - API ì—”ë“œí¬ì¸íŠ¸ ì •ì˜                    â”‚
â”‚  - ë¯¸ë“¤ì›¨ì–´ ì—°ê²°                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Middlewares                    â”‚
â”‚  - authenticate: JWT ê²€ì¦                â”‚
â”‚  - authorize: ê¶Œí•œ í™•ì¸                   â”‚
â”‚  - validate: Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦             â”‚
â”‚  - errorHandler: ì—ëŸ¬ ì²˜ë¦¬               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Controllers                    â”‚
â”‚  - HTTP ìš”ì²­ ìˆ˜ì‹                         â”‚
â”‚  - req.body/query/params ì¶”ì¶œ            â”‚
â”‚  - Service í˜¸ì¶œ                          â”‚
â”‚  - HTTP ì‘ë‹µ ì „ì†¡                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Services                     â”‚
â”‚  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„                     â”‚
â”‚  - íŠ¸ëœì­ì…˜ ê´€ë¦¬                         â”‚
â”‚  - ë‹¤ë¥¸ ì„œë¹„ìŠ¤ í˜¸ì¶œ                      â”‚
â”‚  - Repository í˜¸ì¶œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Repositories                   â”‚
â”‚  - Prisma ì¿¼ë¦¬ ì‹¤í–‰                      â”‚
â”‚  - CRUD ì—°ì‚°                            â”‚
â”‚  - ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ í†µì‹                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Database (PostgreSQL)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### API ìš”ì²­ íë¦„

```
Request â†’ Route â†’ Middleware(Auth, Validate) â†’ Controller â†’ Service â†’ Repository â†’ Database
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ERD

### í•µì‹¬ ì—”í‹°í‹° ê´€ê³„ë„

```mermaid
erDiagram
    Company ||--o{ User : "1:N"
    Company ||--o{ Customer : "1:N"
    Company ||--o{ Car : "1:N"
    Company ||--o{ Contract : "1:N"

    CarModel ||--o{ Car : "1:N"
    Car ||--o{ Contract : "1:N"
    Customer ||--o{ Contract : "1:N"
    User ||--o{ Contract : "1:N"

    Contract ||--o{ ContractDocument : "1:N"
    Contract ||--o{ Meeting : "1:N"

    Company {
        int id PK "íšŒì‚¬ ID"
        string name "íšŒì‚¬ëª…"
        string authCode UK "ì¸ì¦ì½”ë“œ"
    }

    User {
        int id PK "ì‚¬ìš©ì ID"
        string name "ì´ë¦„"
        string email UK "ì´ë©”ì¼"
        string employeeNumber UK "ì‚¬ë²ˆ"
        boolean isAdmin "ê´€ë¦¬ì ì—¬ë¶€"
        int companyId FK "ì†Œì† íšŒì‚¬"
    }

    Customer {
        int id PK "ê³ ê° ID"
        string name "ì´ë¦„"
        string phoneNumber "ì „í™”ë²ˆí˜¸"
        string email "ì´ë©”ì¼"
        int companyId FK "ë‹´ë‹¹ íšŒì‚¬"
    }

    Car {
        int id PK "ì°¨ëŸ‰ ID"
        string carNumber UK "ì°¨ëŸ‰ë²ˆí˜¸"
        int price "ê°€ê²©"
        enum status "ì°¨ëŸ‰ ìƒíƒœ"
        int modelId FK "ì°¨ëŸ‰ ëª¨ë¸"
        int companyId FK "ë³´ìœ  íšŒì‚¬"
    }

    CarModel {
        int id PK "ëª¨ë¸ ID"
        string manufacturer "ì œì¡°ì‚¬"
        string model "ëª¨ë¸ëª…"
        enum type "ì°¨ì¢…"
    }

    Contract {
        int id PK "ê³„ì•½ ID"
        enum status "ê³„ì•½ ìƒíƒœ"
        int contractPrice "ê³„ì•½ ê¸ˆì•¡"
        int carId FK "ì°¨ëŸ‰"
        int customerId FK "ê³ ê°"
        int userId FK "ë‹´ë‹¹ì"
        int companyId FK "íšŒì‚¬"
    }

    ContractDocument {
        int id PK "ë¬¸ì„œ ID"
        string fileName "íŒŒì¼ëª…"
        string fileKey UK "íŒŒì¼ í‚¤"
        int contractId FK "ê³„ì•½"
    }

    Meeting {
        int id PK "ë¯¸íŒ… ID"
        datetime date "ë¯¸íŒ… ì¼ì‹œ"
        int contractId FK "ê³„ì•½"
    }
```

### Enum íƒ€ì…

**CarType (ì°¨ì¢…)**
- `SEDAN`: ì„¸ë‹¨
- `SUV`: SUV
- `COMPACT`: ì†Œí˜•
- `TRUCK`: íŠ¸ëŸ­
- `VAN`: ë°´

**CarStatus (ì°¨ëŸ‰ ìƒíƒœ)**
- `possession`: ë³´ìœ  ì¤‘
- `contractProceeding`: ê³„ì•½ ì§„í–‰ ì¤‘
- `contractCompleted`: ê³„ì•½ ì™„ë£Œ

**ContractStatus (ê³„ì•½ ìƒíƒœ)**
- `carInspection`: ì°¨ëŸ‰ í™•ì¸
- `priceNegotiation`: ê°€ê²© í˜‘ì˜
- `contractDraft`: ê³„ì•½ì„œ ì‘ì„± ì¤‘
- `contractSuccessful`: ê³„ì•½ ì™„ë£Œ
- `contractFailed`: ê³„ì•½ ì·¨ì†Œ

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone [ì €ì¥ì†Œ_URL]
cd dearcarmate-backend
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìˆëŠ” `.env.sample` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

```bash
cp .env.sample .env
```

**í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜:**

```env
# ë°ì´í„°ë² ì´ìŠ¤
DATABASE_URL=postgresql://user:password@localhost:5432/dearcarmate

# JWT í† í°
ACCESS_TOKEN_SECRET=your-access-token-secret-here
REFRESH_TOKEN_SECRET=your-refresh-token-secret-here
ACCESS_TOKEN_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d

# Cloudinary (ì´ë¯¸ì§€ ì—…ë¡œë“œ)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# SendGrid (ì´ë©”ì¼ ë°œì†¡)
SENDGRID_API_KEY=your-sendgrid-api-key
EMAIL_FROM=noreply@dearcarmate.com

# ì„œë²„ ì„¤ì • (ê°œë°œ í™˜ê²½)
PORT=3001
NODE_ENV=development
BASE_URL=http://localhost:3001
CORS_ORIGINS=http://localhost:3000

# ì„œë²„ ì„¤ì • (í”„ë¡œë•ì…˜ í™˜ê²½ ì˜ˆì‹œ)
# PORT=3001
# NODE_ENV=production
# BASE_URL=https://nb04-dearcarmate-team1.onrender.com
# CORS_ORIGINS=https://dearcarmate-frontend.vercel.app

# íŒŒì¼ ë‹¤ìš´ë¡œë“œ í† í°
DOWNLOAD_TOKEN_SECRET=your-download-token-secret
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

Prisma ìŠ¤í‚¤ë§ˆë¥¼ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•©ë‹ˆë‹¤.

```bash
# ê°œë°œ í™˜ê²½: ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì ìš©
npx prisma migrate dev

# Prisma Client ìƒì„±
npx prisma generate
```

### 5. ìƒ˜í”Œ ë°ì´í„° ìƒì„± (ì„ íƒì‚¬í•­)

ê°œë°œ ë° í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì¶”ê°€í•©ë‹ˆë‹¤.

```bash
# DBì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì§€ìš°ê³ , ì²˜ìŒë¶€í„° ëª¨ë“  ìƒ˜í”Œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ìƒì„±
npm run db:refresh

# ê¸°ì¡´ ë°ì´í„°ë¥¼ ìœ ì§€í•œ ì±„, ìƒ˜í”Œ ë°ì´í„°ë§Œ ì¶”ê°€
npm run db:seed
```

## âš™ï¸ ì‹¤í–‰í•˜ê¸°

### ê°œë°œ ëª¨ë“œ (ì¶”ì²œ)

`tsx`ê°€ ì½”ë“œ ë³€ê²½ì„ ê°ì§€í•˜ì—¬ ì„œë²„ë¥¼ ìë™ìœ¼ë¡œ ì¬ì‹œì‘í•©ë‹ˆë‹¤.

```bash
npm run dev
```

### í”„ë¡œë•ì…˜ ëª¨ë“œ

```bash
# 1. TypeScript ë¹Œë“œ
npm run build

# 2. ë¹Œë“œëœ ì„œë²„ ì‹¤í–‰
npm start

# ë˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ + ì„œë²„ ì‹¤í–‰ì„ í•œ ë²ˆì—
npm run start:prod
```

## ğŸ“– API ë¬¸ì„œ

ì„œë²„ ì‹¤í–‰ í›„, Swagger UIë¥¼ í†µí•´ API ëª…ì„¸ë¥¼ í™•ì¸í•˜ê³  ì§ì ‘ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë¡œì»¬**: http://localhost:3001/api-docs
**ë°°í¬**: https://nb04-dearcarmate-team1.onrender.com/api-docs

## ğŸ“‹ ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

| Method   | Endpoint                      | ì„¤ëª…                        | ì¸ì¦ í•„ìš”  |
| :------- | :---------------------------- | :-------------------------- | :--------: |
| `POST`   | `/auth/login`                 | ë¡œê·¸ì¸ (í† í° ë°œê¸‰)          |     -      |
| `POST`   | `/auth/refresh`               | í† í° ê°±ì‹                    |     -      |
| `POST`   | `/users`                      | íšŒì›ê°€ì…                    |     -      |
| `GET`    | `/users/me`                   | ë‚´ ì •ë³´ ì¡°íšŒ                |     âœ…     |
| `PATCH`  | `/users/me`                   | ë‚´ ì •ë³´ ìˆ˜ì •                |     âœ…     |
| `DELETE` | `/users/me`                   | íšŒì› íƒˆí‡´                   |     âœ…     |
| `POST`   | `/companies`                  | íšŒì‚¬ ë“±ë¡                   | âœ… (Admin) |
| `GET`    | `/companies`                  | íšŒì‚¬ ëª©ë¡ ì¡°íšŒ              |     âœ…     |
| `POST`   | `/customers`                  | ê³ ê° ë“±ë¡                   |     âœ…     |
| `GET`    | `/customers`                  | ê³ ê° ëª©ë¡ ì¡°íšŒ              |     âœ…     |
| `POST`   | `/customers/upload`           | ê³ ê° ëŒ€ìš©ëŸ‰ ì—…ë¡œë“œ (CSV)    |     âœ…     |
| `POST`   | `/cars`                       | ì°¨ëŸ‰ ë“±ë¡                   |     âœ…     |
| `GET`    | `/cars`                       | ì°¨ëŸ‰ ëª©ë¡ ì¡°íšŒ              |     âœ…     |
| `GET`    | `/cars/models`                | ì°¨ëŸ‰ ì œì¡°ì‚¬/ëª¨ë¸ ëª©ë¡ ì¡°íšŒ  |     âœ…     |
| `POST`   | `/cars/upload`                | ì°¨ëŸ‰ ëŒ€ìš©ëŸ‰ ì—…ë¡œë“œ (CSV)    |     âœ…     |
| `POST`   | `/contracts`                  | ê³„ì•½ ë“±ë¡                   |     âœ…     |
| `GET`    | `/contracts`                  | ê³„ì•½ ëª©ë¡ ì¡°íšŒ (ì¹¸ë°˜)       |     âœ…     |
| `PATCH`  | `/contracts/:id`              | ê³„ì•½ ìˆ˜ì •                   |     âœ…     |
| `GET`    | `/contractDocuments`          | ê³„ì•½ì„œ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜) |     âœ…     |
| `GET`    | `/contractDocuments/draft`    | ì´ˆì•ˆ ê³„ì•½ì„œ ëª©ë¡ ì¡°íšŒ       |     âœ…     |
| `POST`   | `/contractDocuments/upload`   | ê³„ì•½ì„œ íŒŒì¼ ì—…ë¡œë“œ          |     âœ…     |
| `GET`    | `/contractDocuments/download` | í† í° ê¸°ë°˜ ê³„ì•½ì„œ ë‹¤ìš´ë¡œë“œ   |     âœ…      |
| `GET`    | `/contractDocuments/:id/download` | ê³„ì•½ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ (ì¸ì¦) |     âœ…     |
| `GET`    | `/dashboard`                  | ëŒ€ì‹œë³´ë“œ í†µê³„ ì¡°íšŒ          |     âœ…     |
| `POST`   | `/images/upload`              | ë²”ìš© ì´ë¯¸ì§€ ì—…ë¡œë“œ          |     âœ…     |

## ğŸ’» ì½”ë”© ì»¨ë²¤ì…˜

### 1. ë„¤ì´ë° ì»¨ë²¤ì…˜

| ëŒ€ìƒ       | í‘œê¸°ë²•     | ì˜ˆì‹œ                                |
| :--------- | :--------- | :---------------------------------- |
| ë³€ìˆ˜, í•¨ìˆ˜ | camelCase  | `userName`, `getUserData`           |
| í´ë˜ìŠ¤     | PascalCase | `UserService`, `CustomerController` |
| íŒŒì¼, í´ë” | kebab-case | `user-service.ts`, `auth-route.ts`  |

### 2. ì»¤ë°‹ ì»¨ë²¤ì…˜

ì»¤ë°‹ ë©”ì‹œì§€ëŠ” ë‹¤ìŒ í˜•ì‹ì„ ë”°ë¦…ë‹ˆë‹¤: `íƒ€ì…: ì œëª©`

- **feat**: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- **fix**: ë²„ê·¸ ìˆ˜ì •
- **refactor**: ì½”ë“œ ë¦¬íŒ©í† ë§ (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ)
- **docs**: ë¬¸ì„œ ìˆ˜ì • (README ë“±)
- **style**: ì½”ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½ (í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ë“±)
- **test**: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •
- **chore**: ë¹Œë“œ ê´€ë ¨ íŒŒì¼ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„¤ì • ë³€ê²½ ë“±

**ì˜ˆì‹œ**: `feat: ê³„ì•½ì„œ ì´ë©”ì¼ ì•Œë¦¼ ê¸°ëŠ¥ ì¶”ê°€`

### 3. ë¸Œëœì¹˜ ì „ëµ

- **main**: ë°°í¬ ê°€ëŠ¥í•œ ì•ˆì •ì ì¸ ë²„ì „ì˜ ë¸Œëœì¹˜
- **develop**: ë‹¤ìŒ ë°°í¬ ë²„ì „ì„ ê°œë°œí•˜ëŠ” ë©”ì¸ ë¸Œëœì¹˜
- **feature/ê¸°ëŠ¥ì´ë¦„**: ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜ (ì˜ˆ: `feature/user-auth`)
- **fix/ì´ìŠˆë²ˆí˜¸**: ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ë¸Œëœì¹˜ (ì˜ˆ: `fix/issue-123`)

### 4. PR ê·œì¹™

- 2ëª… ì´ìƒì˜ íŒ€ì›ì—ê²Œ **Approve**ë¥¼ ë°›ì•„ì•¼ Merge í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“š ê°œë°œ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ

1. Prisma ìŠ¤í‚¤ë§ˆ ìˆ˜ì • (í•„ìš” ì‹œ) â†’ `npx prisma migrate dev`
2. DTOs ì‘ì„± (`dtos/`)
3. Repository ì‘ì„± (`repositories/`)
4. Service ì‘ì„± (`services/`)
5. Controller ì‘ì„± (`controllers/`)
6. Route ì‘ì„± (`routes/`)
7. `src/app.ts`ì— ë¼ìš°íŠ¸ ë“±ë¡
8. Swagger JSDoc ì£¼ì„ ì¶”ê°€

### ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

```bash
# Prisma Client ì¬ìƒì„±
npx prisma generate

# ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì ìš© (ê°œë°œ)
npx prisma migrate dev

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© (í”„ë¡œë•ì…˜)
npx prisma migrate deploy

# ìŠ¤í‚¤ë§ˆ ê²€ì¦
npx prisma validate

# DB ì´ˆê¸°í™”
npm run db:clear
npm run db:seed
```

### ì½”ë“œ í’ˆì§ˆ

```bash
# Prettier ì‹¤í–‰
npm run format
```

## ğŸ“„ ë¼ì´ì„ ìŠ¤

This project is private and proprietary.

## ğŸ‘¥ íŒ€ì›

**Dear Carmate Backend Team**

- ê¹€ì§€í—Œ (ziheon01)
- í™ì£¼í—Œ (jhhong0571)
- ìµœí™ê¸° (qhdltmwhs)
- ì˜¤ì—°ì§„ (yonjinoh)

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ ì´ìŠˆë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.
